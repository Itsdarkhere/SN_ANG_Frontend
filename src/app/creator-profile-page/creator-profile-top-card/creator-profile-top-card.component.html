<div class="page-creator-top-profile">
  <div class="profile-top-card-box-1">
    <div class="profile-img-cover" [avatar]="profile.PublicKeyBase58Check"></div>
    <div>
      <button class="br-30px m-10px p-5px pl-10px pr-10px top-card-button">Message</button>
      <button class="br-30px m-10px p-5px pl-10px pr-10px top-card-button">Share</button>
    </div>
  </div>
  <div class="user-info">
    <div class="followers_inline_row flex-column">
      <div class="name-stats-profile">
        <h5 class="bold usr_nm">
          @{{ profile.Username }} &nbsp;
          <ng-container
            *ngIf="profile.IsReserved && !profile.IsVerified"
            (click)="tooltip.toggle()"
            matTooltipClass="global__mat-tooltip global__mat-tooltip-font-size"
            [matTooltip]="'This profile is reserved'"
            #tooltip="matTooltip"
          >
            <i class="far fa-clock"></i>
          </ng-container>
          <ng-container
            *ngIf="profile.IsVerified"
            (click)="tooltip.toggle()"
            matTooltipClass="global__mat-tooltip global__mat-tooltip-font-size"
            [matTooltip]="'This account is verified'"
            #tooltip="matTooltip"
          >
            <i class="fas fa-check-circle text-primary"></i>
          </ng-container>
        </h5>
        <div class="followers-row">
          <div
            class="cursor-pointer"
            *ngIf="followerCount != null"
            [routerLink]="AppRoutingModule.userFollowersPath(profile.Username)"
            queryParamsHandling="merge"
          >
            <h6>FOLLOWERS</h6>
            <h5>{{ followerCount }}</h5>
          </div>
          <div
            class="cursor-pointer"
            *ngIf="followingCount != null"
            [routerLink]="AppRoutingModule.userFollowingPath(profile.Username)"
            queryParamsHandling="merge"
          >
            <h6>FOLLOWING</h6>
            <h5>{{ followingCount }}</h5>
          </div>
          <div>
            <h6>COIN PRICE</h6>
            <h5>{{ globalVars.nanosToUSD(profile.CoinPriceDeSoNanos, 2) }}</h5>
          </div>
        </div>
      </div>
      <div class="btn_cover_sec">
        <div class="btn-cover">
          <div
            *ngIf="!profileBelongsToLoggedInUser() && globalVars.loggedInUser"
            class="fs-15px pr-15px follow_ellips"
            dropdown
            container="body"
          >
            <a class="link--unstyled text-grey9 link--unstyled text-grey9" dropdownToggle>
              <i class="fas fa-ellipsis-h"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-right p-0 border background-color-light-grey fs-15px" *dropdownMenu>
              <a
                class="dropdown-menu-item d-block link--unstyled p-10px feed-post__dropdown-menu-item"
                (click)="reportUser()"
              >
                <i class="fas fa-flag"></i>
                Report User
              </a>
              <a
                class="dropdown-menu-item d-block link--unstyled p-10px feed-post__dropdown-menu-item"
                (click)="globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check) ? unblock() : block()"
              >
                <i class="fas fa-ban"></i>
                {{ globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check) ? "Unblock" : "Block" }} User
              </a>
              <a
                class="dropdown-menu-item d-block link--unstyled p-10px feed-post__dropdown-menu-item"
                (click)="messageUser()"
              >
                <i class="fas fa-envelope"></i>
                Message User
              </a>
            </div>
          </div>
          <button
            class="btn btn-buy"
            [routerLink]="AppRoutingModule.buyCreatorPath(profile.Username)"
            queryParamsHandling="merge"
          >
            Buy
          </button>
          <div *ngIf="globalVars.loggedInUser" class="d-inline-block fs-15px">
            <div *ngIf="profileBelongsToLoggedInUser(); else elseBlock">
              <a
                class="btn btn-follow"
                [routerLink]="'/' + this.globalVars.RouteNames.UPDATE_PROFILE"
                [queryParams]="{ stepNum: null }"
                queryParamsHandling="merge"
              >
                Update profile
              </a>
            </div>
            <ng-template #elseBlock>
              <follow-button
                *ngIf="!globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check)"
                [displayAsLink]="true"
                [followedPubKeyBase58Check]="profile.PublicKeyBase58Check"
              ></follow-button>
            </ng-template>
          </div>
          <a
            class="btn btn-danger font-weight-bold ml-15px fs-14px creator-profile-top-card__block-btn"
            *ngIf="globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check)"
            (click)="unblock()"
          >
            <span>Unblock</span>
          </a>
        </div>
        <h6 class="founder-reward-text">FOUNDER REWARD {{ getFoundersRewardPercent() | number: "0.0-9" }}%</h6>
      </div>
    </div>
    <div class="flex-center flex-column w-10">
      <p>p</p>
      <p>e</p>
      <p>n</p>
      <p>i</p>
      <p>s</p>
    </div>
  </div>
  <div class="bio-cover">
    <h6>BIO</h6>
    <p [innerHTML]="profile.Description | sanitizeAndAutoLink"></p>
  </div>
</div>
