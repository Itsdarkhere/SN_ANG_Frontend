<div class="w-100 d-flex flex-center position-relative c-p-top-card-banner-container">
  <img id="banner-image" src="./assets/img/default-banner.png" class="firebase-cover-image" />
  <div class="between-images-container">
    <div class="profile-img-cover" [avatar]="profile.PublicKeyBase58Check"></div>
    <div class="followers-section">
      <div class="followers-row">
        <div
          class="cursor-pointer"
          *ngIf="followerCount != null"
          [routerLink]="AppRoutingModule.userFollowersPath(profile.Username)"
          queryParamsHandling="merge"
        >
          <h6 class="creator-profile-h6">FOLLOWERS</h6>
          <h5>{{ followerCount }}</h5>
        </div>
        <div
          class="cursor-pointer"
          *ngIf="followingCount != null"
          [routerLink]="AppRoutingModule.userFollowingPath(profile.Username)"
          queryParamsHandling="merge"
        >
          <h6 class="creator-profile-h6">FOLLOWING</h6>
          <h5>{{ followingCount }}</h5>
        </div>
        <div>
          <h6 class="creator-profile-h6">COIN PRICE</h6>
          <h5>{{ globalVars.nanosToUSD(profile.CoinPriceDeSoNanos, 2) }}</h5>
        </div>
      </div>
      <hr class="followers-separator" />
      <div class="btn_cover_sec followers-buy-button-container mt-10px">
        <div class="btn-cover">
          <div class="w-45">
            <button
              class="btn btn-buy"
              [routerLink]="AppRoutingModule.buyCreatorPath(profile.Username)"
              queryParamsHandling="merge"
            >
              Invest
            </button>
          </div>
          <div *ngIf="globalVars.loggedInUser" class="w-45 d-inline-block fs-15px">
            <div *ngIf="profileBelongsToLoggedInUser(); else elseBlock">
              <a
                class="btn btn-follow"
                [routerLink]="'/' + this.globalVars.RouteNames.UPDATE_PROFILE"
                [queryParams]="{ stepNum: null }"
                queryParamsHandling="merge"
              >
                Update profile
              </a>
            </div>
            <ng-template #elseBlock>
              <follow-button
                *ngIf="!globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check)"
                [displayAsLink]="true"
                [followedPubKeyBase58Check]="profile.PublicKeyBase58Check"
              ></follow-button>
            </ng-template>
          </div>
          <a
            class="btn btn-danger font-weight-bold ml-15px fs-14px creator-profile-top-card__block-btn"
            *ngIf="globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check)"
            (click)="unblock()"
          >
            <span>Unblock</span>
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="profile-actions-box">
    <button
      *ngIf="globalVars.loggedInUser?.PublicKeyBase58Check != profile.PublicKeyBase58Check"
      class="br-30px m-10px pt-5px pb-5px pl-5px pr-5px top-card-button hover-color top-card-button-message"
      (click)="messageUser()"
    >
      <img src="./assets/icons/chat-plane-icon-white.svg" class="profile-button-icon" />
      <div class="dm-button-hover">DM</div>
    </button>
    <button
      class="br-30px m-10px pt-5px pb-5px pl-5px pr-5px top-card-button hover-color top-card-button-wallet"
      (click)="copyWalletAddress()"
    >
      <img src="./assets/icons/wallet-icon-white.svg" class="profile-button-icon" />
      <div class="wallet-button-hover">Copy wallet address</div>
      <div class="wallet-button-hidden" id="copyWallet">
        <i class="fas fa-check-circle check-wallet"></i>
        <div>Wallet copied!</div>
      </div>
    </button>
    <button
      class="br-30px m-10px pt-5px pb-5px pl-5px pr-5px top-card-button hover-color top-card-button-share"
      (click)="copyURL()"
    >
      <img src="./assets/icons/share-white.svg" class="profile-button-icon" />
      <div class="share-button-hover">Share</div>
    </button>
  </div>
</div>

<div class="w-100 d-flex flex-center cover-image-blurred-container">
  <img id="banner-image-blurred" src="./assets/img/default-banner.png" class="firebase-cover-image-blurred" />
  <div class="user-info">
    <div class="followers_inline_row flex-column">
      <div class="name-stats-profile">
        <div class="mt-65px">
          <h5 class="font-weight-bold primary-name" *ngIf="profileData?.name">{{ profileData?.name }}</h5>
          <h5 class="font-weight-bold secondary-name" [ngClass]="profileData?.name ? 'secondary-name' : ''">
            @{{ profile.Username }} &nbsp;
            <ng-container
              *ngIf="profile.IsReserved && !profile.IsVerified"
              (click)="tooltip.toggle()"
              matTooltipClass="global__mat-tooltip global__mat-tooltip-font-size"
              [matTooltip]="'This profile is reserved'"
              #tooltip="matTooltip"
            >
              <i class="far fa-clock"></i>
            </ng-container>
            <ng-container
              *ngIf="profile.IsVerified"
              (click)="tooltip.toggle()"
              matTooltipClass="global__mat-tooltip global__mat-tooltip-font-size"
              [matTooltip]="'This account is verified'"
              #tooltip="matTooltip"
            >
              <i class="new-user-badge">
                <svg height="2500" viewBox="0 0 512 512" width="2500" xmlns="http://www.w3.org/2000/svg">
                  <path d="m512 268c0 17.9-4.3 34.5-12.9 49.7s-20.1 27.1-34.6 35.4c.4 2.7.6 6.9.6 12.6 0 27.1-9.1 50.1-27.1 69.1-18.1 19.1-39.9 28.6-65.4 28.6-11.4 0-22.3-2.1-32.6-6.3-8 16.4-19.5 29.6-34.6 39.7-15 10.2-31.5 15.2-49.4 15.2-18.3 0-34.9-4.9-49.7-14.9-14.9-9.9-26.3-23.2-34.3-40-10.3 4.2-21.1 6.3-32.6 6.3-25.5 0-47.4-9.5-65.7-28.6-18.3-19-27.4-42.1-27.4-69.1 0-3 .4-7.2 1.1-12.6-14.5-8.4-26-20.2-34.6-35.4-8.5-15.2-12.8-31.8-12.8-49.7 0-19 4.8-36.5 14.3-52.3s22.3-27.5 38.3-35.1c-4.2-11.4-6.3-22.9-6.3-34.3 0-27 9.1-50.1 27.4-69.1s40.2-28.6 65.7-28.6c11.4 0 22.3 2.1 32.6 6.3 8-16.4 19.5-29.6 34.6-39.7 15-10.1 31.5-15.2 49.4-15.2s34.4 5.1 49.4 15.1c15 10.1 26.6 23.3 34.6 39.7 10.3-4.2 21.1-6.3 32.6-6.3 25.5 0 47.3 9.5 65.4 28.6s27.1 42.1 27.1 69.1c0 12.6-1.9 24-5.7 34.3 16 7.6 28.8 19.3 38.3 35.1 9.5 15.9 14.3 33.4 14.3 52.4zm-266.9 77.1 105.7-158.3c2.7-4.2 3.5-8.8 2.6-13.7-1-4.9-3.5-8.8-7.7-11.4-4.2-2.7-8.8-3.6-13.7-2.9-5 .8-9 3.2-12 7.4l-93.1 140-42.9-42.8c-3.8-3.8-8.2-5.6-13.1-5.4-5 .2-9.3 2-13.1 5.4-3.4 3.4-5.1 7.7-5.1 12.9 0 5.1 1.7 9.4 5.1 12.9l58.9 58.9 2.9 2.3c3.4 2.3 6.9 3.4 10.3 3.4 6.7-.1 11.8-2.9 15.2-8.7z" fill="#1da1f2"/></svg>
              </i>
            </ng-container>
          </h5>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="page-creator-top-profile">
  <div class="btn_cover_sec followers-buy-button-container-mobile mt-10px">
    <div class="btn-cover">
      <button
        class="btn btn-buy"
        [routerLink]="AppRoutingModule.buyCreatorPath(profile.Username)"
        queryParamsHandling="merge"
      >
        Invest
      </button>
      <div *ngIf="globalVars.loggedInUser" class="w-100 d-inline-block mt-10px fs-15px">
        <div *ngIf="profileBelongsToLoggedInUser(); else elseBlock">
          <a
            class="btn btn-follow"
            [routerLink]="'/' + this.globalVars.RouteNames.UPDATE_PROFILE"
            [queryParams]="{ stepNum: null }"
            queryParamsHandling="merge"
          >
            Update profile
          </a>
        </div>
        <ng-template #elseBlock>
          <follow-button
            [followButtonClasses]="['w-100']"
            [unfollowButtonClasses]="['w-100']"
            *ngIf="!globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check)"
            [displayAsLink]="true"
            [followedPubKeyBase58Check]="profile.PublicKeyBase58Check"
          ></follow-button>
        </ng-template>
      </div>
      <a
        class="btn btn-danger font-weight-bold ml-15px fs-14px creator-profile-top-card__block-btn"
        *ngIf="globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check)"
        (click)="unblock()"
      >
        <span>Unblock</span>
      </a>
    </div>
  </div>
  <div class="bio-cover">
    <!--<h6>BIO</h6>-->
    <p [innerHTML]="profile.Description | sanitizeAndAutoLink"></p>
    <div class="socials-column w-10">
      <!-- <div
        *ngIf="!profileBelongsToLoggedInUser() && globalVars.loggedInUser"
        class="fs-15px follow_ellips"
        dropdown
        container="body"
      >
        <a class="link--unstyled text-grey9 link--unstyled text-grey9" dropdownToggle>
          <i class="fas fa-ellipsis-h"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-right p-0 border background-color-light-grey fs-15px" *dropdownMenu>
          <a
            class="dropdown-menu-item d-block link--unstyled p-10px feed-post__dropdown-menu-item"
            (click)="messageUser()"
          >
            <img class="h-15px" src="./assets/icons/profile-email.png" />
            Message User
          </a>
          <a
            class="dropdown-menu-item border-top d-block link--unstyled p-10px feed-post__dropdown-menu-item feed-post__dropdown-menu-item-color-light"
            (click)="reportUser()"
          >
            <img class="scale-1_2" src="./assets/icons/report-icon.svg" />
            Report User
          </a>
          <a
            class="dropdown-menu-item d-block link--unstyled p-10px feed-post__dropdown-menu-item feed-post__dropdown-menu-item-color-light"
            (click)="globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check) ? unblock() : block()"
          >
            <img class="scale-1_2 pb-2px" src="./assets/icons/block-icon.svg" />
            {{ globalVars.hasUserBlockedCreator(profile.PublicKeyBase58Check) ? "Unblock" : "Block" }} User
          </a>
        </div>
      </div> -->
      <a
        *ngIf="profileData?.website"
        href="https://{{ trimURL(profileData.website) }}"
        target="_blank"
        class="social-link-div pr-2px hover-color"
      >
        <img src="/assets/icons/profile-world-icon.svg" />
        {{ trimURL(profileData.website) }}
      </a>
      <a
        *ngIf="profileData?.twitter"
        href="https://www.twitter.com/{{ profileData.twitter }}"
        target="_blank"
        class="social-link-div hover-color"
      >
        <img src="assets/icons/profile-twitter-icon.svg" />
        @{{ profileData.twitter }}
      </a>
      <a
        *ngIf="profileData?.instagram"
        href="https://www.instagram.com/{{ profileData.instagram }}"
        target="_blank"
        class="social-link-div hover-color"
      >
        <img src="assets/icons/profile-instagram-icon.svg" />
        @{{ profileData.instagram }}
      </a>
      <a
        *ngIf="profileData?.discord"
        href="https://discord.gg/{{ profileData.discord }}/"
        target="_blank"
        class="social-link-div hover-color"
      >
        <img src="assets/icons/profile-discord-icon.svg" />
        {{ profileData.discord }}
      </a>
    </div>
  </div>
</div>
